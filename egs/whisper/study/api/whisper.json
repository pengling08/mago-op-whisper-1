{"openapi":"3.1.0","info":{"title":"WhisperAPI","description":"Speech recognition with OpenAI Whisper model","contact":{"name":"MAGO","email":"galois@holamago.com"},"version":"1.1.0"},"servers":[{"url":"https://api.magovoice.com","description":"Production"}],"paths":{"/whisper/v1/":{"get":{"tags":["whisper"],"summary":"개요","description":"OpenAI의 whisper를 사용한 음성인식 엔진 서비스입니다.","operationId":"overview_endpoint","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/whisper/v1/run":{"post":{"tags":["whisper"],"summary":"파일 업로드 방식","description":"파일 업로드 방식으로 음성 파일을 전송하여 음성 파일을 텍스트로 변환합니다.","operationId":"run_endpoint","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lang","in":"query","required":false,"schema":{"type":"string","default":"ko","title":"Lang"}},{"name":"task","in":"query","required":false,"schema":{"type":"string","default":"transcribe","title":"Task"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_run_endpoint"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Run Endpoint"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/whisper/v1/uri":{"post":{"tags":["whisper"],"summary":"URI 방식","description":"저장소에 있는 파일을 직접 사용하여 음성인식을 합니다.","operationId":"uri_endpoint","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lang","in":"query","required":false,"schema":{"type":"string","default":"ko","title":"Lang"}},{"name":"task","in":"query","required":false,"schema":{"type":"string","default":"transcribe","title":"Task"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_uri_endpoint"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Uri Endpoint"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/whisper/v1/bytes":{"post":{"tags":["whisper"],"summary":"Binary 전송 방식","description":"Binary 전송 방식으로 음성 파일을 전송하여 음성 파일을 텍스트로 변환합니다.","operationId":"bytes_endpoint","security":[{"HTTPBearer":[]}],"parameters":[{"name":"content_id","in":"query","required":false,"schema":{"type":"string","description":"콘텐츠 아이디","default":"","title":"Content Id"},"description":"콘텐츠 아이디"},{"name":"out_dir","in":"query","required":false,"schema":{"type":"string","description":"출력 디렉토리","default":"exp/whisper","title":"Out Dir"},"description":"출력 디렉토리"},{"name":"lang","in":"query","required":false,"schema":{"type":"string","default":"ko","title":"Lang"}},{"name":"task","in":"query","required":false,"schema":{"type":"string","default":"transcribe","title":"Task"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"string","format":"binary","description":"음성 파일의 바이트 데이터","title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Bytes Endpoint"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/whisper/v1/download":{"get":{"tags":["whisper"],"summary":"파일 다운로드","description":"음성인식 결과 파일을 다운로드합니다.","operationId":"download_endpoint","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_path","in":"query","required":true,"schema":{"type":"string","description":"다운로드할 파일의 경로","title":"File Path"},"description":"다운로드할 파일의 경로"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_run_endpoint":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"음성 파일을 업로드"},"content_id":{"type":"string","title":"Content Id","description":"콘텐츠 아이디","default":""},"out_dir":{"type":"string","title":"Out Dir","description":"출력 디렉토리","default":"exp/whisper"}},"type":"object","required":["file"],"title":"Body_run_endpoint"},"Body_uri_endpoint":{"properties":{"uri":{"type":"string","title":"Uri","description":"저장소에 있는 파일의 URI"},"content_id":{"type":"string","title":"Content Id","description":"콘텐츠 아이디","default":""},"out_dir":{"type":"string","title":"Out Dir","description":"출력 디렉토리","default":"exp/whisper"}},"type":"object","required":["uri"],"title":"Body_uri_endpoint"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}